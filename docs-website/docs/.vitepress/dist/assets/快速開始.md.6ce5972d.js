import{_ as s,c as a,o as l,a as n}from"./app.99d91e23.js";const A=JSON.parse('{"title":"快速開始","description":"","frontmatter":{},"headers":[{"level":2,"title":"步驟","slug":"步驟","link":"#步驟","children":[]},{"level":2,"title":"小結","slug":"小結","link":"#小結","children":[]},{"level":2,"title":"tmux 腳本","slug":"tmux-腳本","link":"#tmux-腳本","children":[{"level":3,"title":"重啓伺服器","slug":"重啓伺服器","link":"#重啓伺服器","children":[]}]}],"relativePath":"快速開始.md"}'),e={name:"快速開始.md"},p=n(`<h1 id="快速開始" tabindex="-1">快速開始 <a class="header-anchor" href="#快速開始" aria-hidden="true">#</a></h1><h2 id="步驟" tabindex="-1">步驟 <a class="header-anchor" href="#步驟" aria-hidden="true">#</a></h2><ol><li>建立設定檔</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">api-service/config</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">carbonbond.toml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">carbonbond.dev.toml</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>安裝 rust</li></ol><p>見 <a href="./rust設置.html#安裝">rust 設置</a>。</p><ol start="3"><li>設定資料庫</li></ol><p>依照 <a href="./資料庫設置.html">資料庫設置</a> 設定資料庫，以及 carbonbond.dev.toml 設定檔。</p><ol start="4"><li>資料庫遷移</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">api-service</span></span>
<span class="line"><span style="color:#FFCB6B;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--bin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prepare</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--features=prepare</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#FFCB6B;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--bin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prepare</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--features=prepare</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-cm</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>啓動後端伺服器</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">api-service</span></span>
<span class="line"><span style="color:#FFCB6B;">env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">RUST_LOG=debug</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span></span>
<span class="line"></span></code></pre></div><ol start="6"><li>安裝 Node.js</li></ol><p>見 <a href="./前端設置.html#安裝">前端設置</a>。</p><ol start="7"><li>啓動前端伺服器</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">frontend</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 第一次啓動需先安裝套件</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">workspace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">web</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"></span></code></pre></div><p>本步驟完成後，前端、後端、資料庫都已準備好了，現在在瀏覽器開啓 <a href="http://localhost:3000" target="_blank" rel="noreferrer">http://localhost:3000</a> ，就可以喜迎碳鍵啦！接下來，我們往資料庫塞一些資料。</p><ol start="8"><li>使用 dbtool 創建使用者</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">api-service</span></span>
<span class="line"><span style="color:#FFCB6B;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--bin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dbtool</span></span>
<span class="line"></span></code></pre></div><p>會進入到一個交互式命令環境，輸入</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">add user &lt;帳號&gt; &lt;密碼&gt; &lt;信箱&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>來創建一或多個使用者。</p><ol start="9"><li>使用 yarn inject 灌入預設看板</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">inject</span></span>
<span class="line"></span></code></pre></div><p>根據交互式命令環境的提示完成操作，它會用到上一步在 dbtool 創建的帳密，故請務必先完成上一步。</p><h2 id="小結" tabindex="-1">小結 <a class="header-anchor" href="#小結" aria-hidden="true">#</a></h2><p>至此，開啓 <a href="http://localhost:3000" target="_blank" rel="noreferrer">http://localhost:3000</a> ，就能看到幾個預設看板跟文章囉！</p><h2 id="tmux-腳本" tabindex="-1">tmux 腳本 <a class="header-anchor" href="#tmux-腳本" aria-hidden="true">#</a></h2><p>以上安裝編譯器、灌入看板等等操作只要執行一次就好了，在開發階段，你通常只需要一個腳本</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run.sh</span></span>
<span class="line"></span></code></pre></div><p>以 tmux 開啓三個視窗，同時監看</p><ul><li>cargo run</li><li>yarn dev</li><li>tsc --watch</li></ul><p>的輸出，是您開發的必備良伴。</p><h3 id="重啓伺服器" tabindex="-1">重啓伺服器 <a class="header-anchor" href="#重啓伺服器" aria-hidden="true">#</a></h3><p>在任一 tmux 視窗中用 <code>ctrl-c</code> 殺掉伺服器之後，tmux 視窗會在左下角顯示 Pane is Dead，此時 <code>ctrl-b + r</code> 可使 tmux 命令重跑，也就能重啓伺服器。</p>`,35),o=[p];function t(c,r,i,C,d,y){return l(),a("div",null,o)}const D=s(e,[["render",t]]);export{A as __pageData,D as default};
